---
import BaseLayout from "@/layouts/BaseLayout.astro";
import AdSlot from "@/components/AdSlot.astro";
import InstructionList from "@/components/InstructionList.astro";

const title = "Freelancer Hourly Rate Calculator";
const description = "Back into a sustainable freelance rate using income goals, billable hours, and overhead.";
const instructions = [
  {
    label: "Desired annual take-home pay",
    description: "Enter the net income you want to pay yourself each year after covering business expenses.",
  },
  {
    label: "Estimated annual business expenses",
    description: "Add recurring costs like software, insurance, rent, and equipment.",
  },
  {
    label: "Billable hours per week",
    description: "Estimate how many hours you can actually invoice each week, not total working hours.",
  },
  {
    label: "Unpaid weeks off each year",
    description: "Account for holidays, vacations, or downtime when you will not bill clients.",
  },
  {
    label: "Profit cushion (%)",
    description: "Add a markup to cover admin time and unexpected scope. Increase it if you want more buffer.",
  },
  {
    label: "Self-employment tax & benefits reserve (%)",
    description: "Set aside a percentage of revenue for taxes, health insurance, and retirement savings.",
  },
  {
    label: "Estimated project hours (optional)",
    description: "If quoting a specific job, enter the total hours you expect the project to take.",
  },
  {
    label: "Project expenses (optional)",
    description: "Add pass-through costs for subcontractors, travel, or materials tied to that project.",
  },
];
const instructionsFooter =
  "Press Calculate rate to see your break-even hourly rate, suggested markup, and a project quote if provided. Reset clears everything.";
---

<BaseLayout {title} {description} pathname="/calculators/freelancer-hourly-rate-calculator">
  <section class="hero">
    <h1>{title}</h1>
    <p class="helper">
      Estimate a target hourly and project rate by combining the income you want, yearly business expenses, and how many hours
      you can bill. Add a project scope to translate the rate into a suggested quote.
    </p>
  </section>

  <InstructionList items={instructions} footer={instructionsFooter} />

  <section class="card" style="margin-top:18px;">
    <form id="freelance-form">
      <div class="form-grid">
        <div>
          <label for="freelance-income">Desired annual take-home pay</label>
          <input id="freelance-income" name="income" type="number" min="0" step="500" placeholder="85000" required />
        </div>
        <div>
          <label for="freelance-expenses">Estimated annual business expenses</label>
          <input id="freelance-expenses" name="expenses" type="number" min="0" step="100" placeholder="12000" />
        </div>
        <div>
          <label for="freelance-hours">Billable hours per week</label>
          <input id="freelance-hours" name="hours" type="number" min="1" step="0.5" placeholder="25" required />
        </div>
        <div>
          <label for="freelance-weeks">Unpaid weeks off each year</label>
          <input id="freelance-weeks" name="weeksOff" type="number" min="0" step="0.5" placeholder="4" />
        </div>
        <div>
          <label for="freelance-margin">Profit cushion (%)</label>
          <input id="freelance-margin" name="margin" type="number" min="0" max="200" step="1" value="20" />
        </div>
        <div>
          <label for="freelance-tax">Self-employment tax & benefits reserve (%)</label>
          <input id="freelance-tax" name="reserve" type="number" min="0" max="100" step="1" value="25" />
        </div>
      </div>

      <fieldset>
        <legend>Optional project quote</legend>
        <div class="form-grid">
          <div>
            <label for="freelance-project-hours">Estimated project hours</label>
            <input id="freelance-project-hours" name="projectHours" type="number" min="0" step="1" placeholder="60" />
          </div>
          <div>
            <label for="freelance-project-expenses">Project expenses (subcontractors, travel, etc.)</label>
            <input id="freelance-project-expenses" name="projectExpenses" type="number" min="0" step="10" placeholder="400" />
          </div>
        </div>
      </fieldset>

      <div style="margin-top:14px; display:flex; gap:10px; flex-wrap:wrap;">
        <button class="btn" type="submit">Calculate rate</button>
        <button class="btn" type="reset">Reset</button>
      </div>
      <p class="helper" style="margin-top:10px;">
        The reserve percentage sets aside money for taxes, retirement, and slow periods. Adjust the profit cushion to build in
        extra margin for admin time and surprises.
      </p>
    </form>
  </section>

  <section id="freelance-result" aria-live="polite" style="margin-top:16px;"></section>

  <AdSlot id="freelance-inline-1" />
  <script defer src="/js/freelancer-hourly-rate-calculator.js"></script>
</BaseLayout>
