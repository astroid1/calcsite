---
import BaseLayout from "@/layouts/BaseLayout.astro";
import AdSlot from "@/components/AdSlot.astro";

const title = "BMR & Calorie Needs Calculator";
const description =
  "Estimate your basal metabolic rate and daily calorie targets using the Mifflin-St Jeor equation.";
---

<BaseLayout {title} {description} pathname="/calculators/bmr-calorie-calculator">
  <section class="hero">
    <h1>{title}</h1>
    <p class="helper">
      Find a personalized calorie range for maintaining, cutting, or building muscle.
      The calculator uses the clinically trusted Mifflin-St Jeor formula for BMR.
    </p>
  </section>

  <section class="card" style="margin-top:18px;">
    <form id="bmr-form">
      <div class="form-grid">
        <div>
          <label for="bmr-gender">Sex</label>
          <select id="bmr-gender" name="gender">
            <option value="female">Female</option>
            <option value="male">Male</option>
          </select>
        </div>
        <div>
          <label for="bmr-age">Age</label>
          <input id="bmr-age" name="age" type="number" min="14" max="100" step="1" placeholder="30" required />
        </div>
        <div>
          <label for="bmr-units">Units</label>
          <select id="bmr-units" name="units">
            <option value="metric">Metric (kg, cm)</option>
            <option value="imperial">Imperial (lb, in)</option>
          </select>
        </div>
        <div>
          <label for="bmr-height">Height <span class="muted" id="bmr-height-unit">(cm)</span></label>
          <input id="bmr-height" name="height" type="number" min="0" step="0.1" placeholder="170" required />
        </div>
        <div>
          <label for="bmr-weight">Weight <span class="muted" id="bmr-weight-unit">(kg)</span></label>
          <input id="bmr-weight" name="weight" type="number" min="0" step="0.1" placeholder="70" required />
        </div>
        <div>
          <label for="bmr-activity">Activity level</label>
          <select id="bmr-activity" name="activity">
            <option value="1.2">Sedentary (little to no exercise)</option>
            <option value="1.375">Lightly active (1–3 days/week)</option>
            <option value="1.55">Moderately active (3–5 days/week)</option>
            <option value="1.725">Very active (6–7 days/week)</option>
            <option value="1.9">Athlete (twice daily training)</option>
          </select>
        </div>
      </div>

      <div style="margin-top:14px; display:flex; gap:10px; flex-wrap:wrap;">
        <button class="btn" type="submit">Estimate calories</button>
        <button class="btn" type="reset">Reset</button>
      </div>
      <p class="helper" style="margin-top:10px;">
        Maintenance is calculated as BMR × activity factor. Calorie suggestions round to the nearest 10.
        Always pair nutrition changes with guidance from your doctor or dietitian.
      </p>
    </form>
  </section>

  <section id="bmr-result" aria-live="polite" style="margin-top:16px;"></section>

  <AdSlot id="bmr-inline-1" />
  <script defer src="/js/bmr-calorie.js"></script>
</BaseLayout>
