---
import BaseLayout from "@/layouts/BaseLayout.astro";
import AdSlot from "@/components/AdSlot.astro";
import InstructionList from "@/components/InstructionList.astro";

const title = "Debt Payoff Calculator";
const description = "Compare the snowball vs. avalanche strategy with payoff timelines and interest totals.";
const instructions = [
  {
    label: "Debt list",
    description:
      "For each balance, enter a name (optional), the current balance, APR, and minimum payment. Use Add another debt to include every loan or card you plan to pay off.",
  },
  {
    label: "Extra monthly payment toward debt",
    description: "If you can pay more than the required minimums, enter the extra cash available each month.",
  },
  {
    label: "Starting month (optional)",
    description: "Choose the month you expect to begin the payoff plan. Leave blank to start from the current month.",
  },
];
const instructionsFooter =
  "Select Compare snowball & avalanche to see payoff dates, total interest, and which strategy clears debts first. Reset clears all debts and settings.";
---

<BaseLayout {title} {description} pathname="/calculators/debt-payoff-calculator">
  <section class="hero">
    <h1>{title}</h1>
    <p class="helper">
      List each debt's balance, APR, and minimum payment to see how long it takes to become debt-free. Compare the debt snowball
      (smallest balance first) and avalanche (highest interest rate first) side by side.
    </p>
  </section>

  <InstructionList items={instructions} footer={instructionsFooter} />

  <section class="card" style="margin-top:18px;">
    <form id="debt-form">
      <p class="helper" style="margin-top:0;">
        Include credit cards, personal loans, and student loans. We'll apply your extra payment to whichever debt is targeted by
        the chosen strategy after covering all minimums.
      </p>

      <div id="debt-rows" style="display:flex; flex-direction:column; gap:16px; margin-top:12px;"></div>

      <button id="add-debt" class="btn" type="button" style="margin-top:6px; width:fit-content;">Add another debt</button>

      <div class="form-grid" style="margin-top:18px;">
        <div>
          <label for="debt-extra">Extra monthly payment toward debt</label>
          <input id="debt-extra" name="extra" type="number" min="0" step="10" placeholder="250" />
        </div>
        <div>
          <label for="debt-start">Starting month (optional)</label>
          <input id="debt-start" name="start" type="month" />
        </div>
      </div>

      <div style="margin-top:16px; display:flex; gap:10px; flex-wrap:wrap;">
        <button class="btn" type="submit">Compare snowball & avalanche</button>
        <button class="btn" type="reset">Reset</button>
      </div>
    </form>
  </section>

  <section id="debt-result" aria-live="polite" style="margin-top:16px;"></section>

  <AdSlot id="debt-inline-1" />
  <script defer src="/js/debt-payoff-calculator.js"></script>
</BaseLayout>
